<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Store AI</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
        window.Telegram.WebApp.ready();
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        
        * { 
            -webkit-tap-highlight-color: transparent; 
            user-select: none; 
            -webkit-user-select: none; 
            box-sizing: border-box; 
        }

        body {
            font-family: 'Inter', sans-serif;
            background: #000;
            margin: 0;
            display: flex;
            justify-content: center;
            height: 100vh;
            color: white;
            overflow: hidden;
        }

        .app-shell {
            width: 100%;
            max-width: 500px;
            height: 100%;
            background: #050505;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        header {
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding: 0 20px;
            background: rgba(0,0,0,0.8);
            border-bottom: 1px solid rgba(255,255,255,0.1);
            z-index: 100;
        }

        main {
            flex: 1;
            overflow-y: auto;
            padding: 20px 16px 120px 16px;
            -webkit-overflow-scrolling: touch;
        }

        /* –ß—Ç–æ–±—ã —Å–∫—Ä—ã—Ç—å —Å–∫—Ä–æ–ª–ª–±–∞—Ä */
        main::-webkit-scrollbar { width: 0; display: none; }

        .product-card {
            background: #0f0f12;
            border: 1px solid rgba(255,255,255,0.05);
            border-radius: 20px;
            padding: 16px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            transition: transform 0.1s;
        }

        .product-card:active {
            transform: scale(0.95);
            border-color: #3b82f6;
        }

        nav {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 80px;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(10px);
            border-top: 1px solid rgba(255,255,255,0.1);
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding-bottom: 20px;
            z-index: 200;
        }

        .nav-link {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #52525b;
            font-size: 10px;
            font-weight: 700;
            text-transform: uppercase;
        }

        .nav-link.active { color: #3b82f6; }

        .section { display: none; }
        .section.active { display: block; }

        .filter-btn {
            background: #18181b;
            color: #a1a1aa;
            padding: 8px 16px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            white-space: nowrap;
        }

        .filter-btn.active {
            background: #3b82f6;
            color: white;
        }
    </style>
</head>
<body>

    <div class="app-shell">
        <header>
            <div class="bg-blue-500/10 border border-blue-500/30 px-3 py-1 rounded-lg text-blue-400 text-xs font-bold">
                1,240 ‚≠êÔ∏è
            </div>
        </header>

        <main>
            <div id="catalog-page" class="section active">
                <h1 class="text-2xl font-bold mb-6">–ú–∞–≥–∞–∑–∏–Ω</h1>
                
                <div class="flex gap-2 mb-6 overflow-x-auto pb-2">
                    <button onclick="applyFilter(this, 'all')" class="filter-btn active">–í—Å–µ</button>
                    <button onclick="applyFilter(this, 'Stars')" class="filter-btn">Stars</button>
                    <button onclick="applyFilter(this, 'Premium')" class="filter-btn">Premium</button>
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div class="product-card item-Stars" onclick="buy('50 Stars', 1.5)">
                        <span class="text-3xl">‚≠êÔ∏è</span>
                        <div class="font-bold text-sm">50 Stars</div>
                        <div class="text-blue-500 font-bold">$1.50</div>
                    </div>
                    <div class="product-card item-Premium" onclick="buy('Premium 1M', 4.99)">
                        <span class="text-3xl">üíé</span>
                        <div class="font-bold text-sm">Premium</div>
                        <div class="text-blue-500 font-bold">$4.99</div>
                    </div>
                    <div class="product-card item-Stars" onclick="buy('100 Stars', 2.99)">
                        <span class="text-3xl">‚≠êÔ∏è</span>
                        <div class="font-bold text-sm">100 Stars</div>
                        <div class="text-blue-500 font-bold">$2.99</div>
                    </div>
                </div>
            </div>

            <div id="profile-page" class="section">
                <h1 class="text-2xl font-bold mb-6">–ü—Ä–æ—Ñ–∏–ª—å</h1>
                <div class="product-card flex-row items-center gap-4 mb-4">
                    <div class="w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center font-bold" id="user-icon">?</div>
                    <div>
                        <div class="font-bold" id="user-name">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                        <div class="text-xs text-zinc-500" id="user-id">ID: 000000</div>
                    </div>
                </div>
            </div>
        </main>

        <nav>
            <div onclick="showPage('catalog-page', this)" class="nav-link active">
                <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M16 11V7a4 4 0 11-8 0v4M5 9h14l1 12H4L5 9z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                <span>–ú–∞–≥–∞–∑–∏–Ω</span>
            </div>
            <div onclick="showPage('profile-page', this)" class="nav-link">
                <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
            </div>
        </nav>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.headerColor = '#000000';

        // –î–∞–Ω–Ω—ã–µ —é–∑–µ—Ä–∞
        const u = tg.initDataUnsafe?.user || { first_name: "User", id: "000000" };
        document.getElementById('user-name').innerText = u.first_name;
        document.getElementById('user-id').innerText = "ID: " + u.id;
        document.getElementById('user-icon').innerText = u.first_name.charAt(0);

        function showPage(pageId, el) {
            document.querySelectorAll('.nav-link').forEach(n => n.classList.remove('active'));
            el.classList.add('active');
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            tg.HapticFeedback.impactOccurred('light');
        }

        function applyFilter(btn, category) {
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            
            document.querySelectorAll('[class*="item-"]').forEach(item => {
                if (category === 'all' || item.classList.contains('item-' + category)) {
                    item.style.display = 'flex';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        function buy(name, price) {
            tg.showConfirm(`–ö—É–ø–∏—Ç—å ${name} –∑–∞ $${price}?`, (ok) => {
                if(ok) tg.sendData(JSON.stringify({product: name}));
            });
        }
    </script>
</body>
</html>
