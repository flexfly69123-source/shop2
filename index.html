<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Cursor Store</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        * { -webkit-tap-highlight-color: transparent; user-select: none; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: #000; color: white; height: 100vh; overflow: hidden; }
        
        .app-shell { width: 100%; max-width: 500px; height: 100%; background: #050505; display: flex; flex-direction: column; margin: 0 auto; position: relative; }
        main { flex: 1; overflow-y: auto; padding: 20px 16px 120px 16px; }
        
        /* Стили карточек */
        .product-card { 
            background: linear-gradient(145deg, #121217 0%, #09090b 100%); 
            border: 1px solid rgba(255,255,255,0.05); 
            border-radius: 24px; 
            padding: 12px;
            transition: all 0.3s ease;
        }
        .product-card:active { transform: scale(0.97); border-color: #3b82f6; }

        /* Красивые картинки */
        .img-container {
            width: 100%;
            height: 100px;
            border-radius: 16px;
            margin-bottom: 12px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255,255,255,0.03);
        }
        .img-container img { width: 80%; height: 80%; object-fit: contain; }
        .pepe-img { width: 100% !important; height: 100% !important; object-fit: cover !important; }

        nav { position: absolute; bottom: 0; width: 100%; height: 80px; background: rgba(10, 10, 10, 0.98); border-top: 1px solid rgba(255,255,255,0.1); display: flex; justify-content: space-around; align-items: center; padding-bottom: 20px; z-index: 200; }
        .nav-link { color: #52525b; font-size: 10px; font-weight: 700; text-align: center; cursor: pointer; }
        .nav-link.active { color: #3b82f6; }

        .section { display: none; }
        .section.active { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .admin-btn { background: linear-gradient(90deg, #ef4444, #f97316); display: none; }
    </style>
</head>
<body>

    <div class="app-shell">
        <header class="h-[60px] flex items-center justify-end px-5 border-b border-white/5">
            <div class="bg-blue-500/10 border border-blue-500/30 px-4 py-1.5 rounded-full text-blue-400 text-xs font-bold">1,240 ⭐️</div>
        </header>

        <main>
            <div id="catalog" class="section active">
                <h1 class="text-2xl font-bold mb-6">Магазин</h1>
                <div class="grid grid-cols-2 gap-4">
                    <div class="product-card" onclick="buy('50 Stars')">
                        <div class="img-container">
                            <img src="https://telegram.org/file/464001552/1/9U_Y9j8Zf-Y.25701/a5e0037f4439c2725e" alt="Stars">
                        </div>
                        <div class="font-bold text-sm px-1">50 Stars</div>
                        <div class="text-blue-500 font-bold px-1">$1.50</div>
                    </div>
                    <div class="product-card" onclick="buy('Premium')">
                        <div class="img-container">
                            <img src="https://telegram.org/js/static/premium/star.png" alt="Premium">
                        </div>
                        <div class="font-bold text-sm px-1">Premium 1M</div>
                        <div class="text-blue-500 font-bold px-1">$4.99</div>
                    </div>
                    <div class="product-card" onclick="buy('Pepe NFT')">
                        <div class="img-container">
                            <img class="pepe-img" src="https://i.pinimg.com/originals/0d/1e/8a/0d1e8a098020b608d8109ad508007998.jpg" alt="Pepe">
                        </div>
                        <div class="font-bold text-sm px-1">NFT Pepe Gift</div>
                        <div class="text-blue-500 font-bold px-1">$15.00</div>
                    </div>
                </div>
            </div>

            <div id="profile" class="section">
                <h1 class="text-2xl font-bold mb-6">Профиль</h1>
                <div class="product-card flex items-center gap-4 mb-6">
                    <div class="w-14 h-14 bg-blue-600 rounded-2xl flex items-center justify-center font-bold text-xl" id="u-icon">?</div>
                    <div>
                        <div class="font-bold text-white text-lg" id="u-name">User</div>
                        <div class="text-xs text-zinc-500" id="u-id">ID: 000000</div>
                    </div>
                </div>

                <button id="admin-panel" class="admin-btn w-full h-14 rounded-2xl font-bold text-sm text-white mb-4" onclick="tg.showAlert('Добро пожаловать, Админ!')">
                    АДМИН-ПАНЕЛЬ
                </button>

                <button class="w-full bg-white/5 border border-white/10 h-14 rounded-2xl font-bold text-sm text-white" onclick="tg.showAlert('История пуста')">
                    ИСТОРИЯ ЗАКАЗОВ
                </button>
            </div>
        </main>

        <nav>
            <div onclick="openTab('catalog', this)" class="nav-link active">МАГАЗИН</div>
            <div onclick="openTab('profile', this)" class="nav-link">ПРОФИЛЬ</div>
        </nav>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();

        // 1. ВПИШИ СВОЙ ID СЮДА
        const ADMIN_ID = 123456789; // Замени на свой реальный ID из профиля

        const user = tg.initDataUnsafe?.user || { first_name: "Пользователь", id: 0 };
        document.getElementById('u-name').innerText = user.first_name;
        document.getElementById('u-id').innerText = "ID: " + user.id;
        document.getElementById('u-icon').innerText = user.first_name.charAt(0).toUpperCase();

        // Проверка на админа
        if (user.id === ADMIN_ID) {
            document.getElementById('admin-panel').style.display = 'block';
        }

        function openTab(id, el) {
            document.querySelectorAll('.nav-link').forEach(n => n.classList.remove('active'));
            el.classList.add('active');
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            tg.HapticFeedback.impactOccurred('light');
        }

        function buy(name) {
            tg.showConfirm("Подтвердить заказ: " + name, (ok) => {
                if(ok) {
                    tg.HapticFeedback.notificationOccurred('success');
                    // Здесь отправляются данные в базу бота
                    tg.sendData(JSON.stringify({action: "buy", item: name}));
                }
            });
        }
    </script>
</body>
</html>
