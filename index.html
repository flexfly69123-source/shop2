<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Digital Store</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Cursor AI Vibe */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #09090b; /* Deep black/gray */
            color: #e4e4e7; /* Zinc 200 */
            -webkit-font-smoothing: antialiased;
        }

        .card {
            background-color: #18181b; /* Zinc 900 */
            border: 1px solid #27272a; /* Zinc 800 */
            transition: all 0.2s ease;
        }
        
        .card:active {
            transform: scale(0.98);
            border-color: #3b82f6; /* Blue 500 */
        }

        .btn-primary {
            background: #3b82f6;
            color: white;
            font-weight: 500;
            transition: opacity 0.2s;
        }
        .btn-primary:active { opacity: 0.8; }

        .nav-item.active {
            color: #3b82f6;
        }
        
        .section { display: none; opacity: 0; transition: opacity 0.3s ease-in-out; }
        .section.active { display: block; opacity: 1; }

        /* Hide scrollbar */
        ::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="h-screen flex flex-col overflow-hidden pb-20">

    <header class="p-4 border-b border-zinc-800 flex justify-between items-center bg-[#09090b]/80 backdrop-blur-md fixed top-0 w-full z-10">
        <div class="flex items-center gap-2">
            <div class="w-2 h-2 rounded-full bg-blue-500 animate-pulse"></div>
            <span class="font-semibold text-sm tracking-wide text-white">STORE.AI</span>
        </div>
        <div id="user-balance" class="text-xs font-mono bg-zinc-900 px-2 py-1 rounded border border-zinc-800 text-zinc-400">
            0 ‚≠êÔ∏è
        </div>
    </header>

    <main class="flex-1 overflow-y-auto mt-16 p-4 space-y-4">
        
        <div id="catalog" class="section active space-y-4">
            <h2 class="text-lg font-medium text-white mb-2">–ö–∞—Ç–∞–ª–æ–≥</h2>
            
            <div class="flex gap-2 overflow-x-auto pb-2">
                <button class="px-3 py-1 bg-zinc-800 rounded-full text-xs text-white whitespace-nowrap border border-zinc-700">–í—Å–µ</button>
                <button class="px-3 py-1 bg-zinc-900 rounded-full text-xs text-zinc-400 whitespace-nowrap border border-zinc-800">Stars</button>
                <button class="px-3 py-1 bg-zinc-900 rounded-full text-xs text-zinc-400 whitespace-nowrap border border-zinc-800">Premium</button>
                <button class="px-3 py-1 bg-zinc-900 rounded-full text-xs text-zinc-400 whitespace-nowrap border border-zinc-800">NFT</button>
            </div>

            <div class="grid grid-cols-2 gap-3">
                <div class="card p-3 rounded-xl flex flex-col justify-between h-32" onclick="buyItem('50 Stars', 1.5)">
                    <div class="text-2xl">‚≠êÔ∏è</div>
                    <div>
                        <div class="text-sm font-medium text-white">50 Stars</div>
                        <div class="text-xs text-zinc-500">–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</div>
                    </div>
                    <div class="flex justify-between items-end mt-2">
                        <span class="text-sm font-bold text-white">$1.50</span>
                        <div class="w-6 h-6 bg-zinc-800 rounded flex items-center justify-center text-blue-500">+</div>
                    </div>
                </div>
                <div class="card p-3 rounded-xl flex flex-col justify-between h-32" onclick="buyItem('TG Premium', 4.99)">
                    <div class="text-2xl">üíé</div>
                    <div>
                        <div class="text-sm font-medium text-white">Premium</div>
                        <div class="text-xs text-zinc-500">1 –ú–µ—Å—è—Ü</div>
                    </div>
                    <div class="flex justify-between items-end mt-2">
                        <span class="text-sm font-bold text-white">$4.99</span>
                        <div class="w-6 h-6 bg-zinc-800 rounded flex items-center justify-center text-blue-500">+</div>
                    </div>
                </div>
                <div class="card p-3 rounded-xl flex flex-col justify-between h-32" onclick="buyItem('NFT Gift', 10.0)">
                    <div class="text-2xl">üéÅ</div>
                    <div>
                        <div class="text-sm font-medium text-white">Red Panda</div>
                        <div class="text-xs text-zinc-500">NFT Gift</div>
                    </div>
                    <div class="flex justify-between items-end mt-2">
                        <span class="text-sm font-bold text-white">$10.0</span>
                        <div class="w-6 h-6 bg-zinc-800 rounded flex items-center justify-center text-blue-500">+</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="profile" class="section space-y-4">
            <div class="card p-4 rounded-xl flex items-center gap-3">
                <div id="avatar" class="w-12 h-12 bg-zinc-800 rounded-full flex items-center justify-center text-xl">üë§</div>
                <div>
                    <div id="username" class="text-white font-medium">Loading...</div>
                    <div id="userid" class="text-xs text-zinc-500 font-mono">ID: ...</div>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-3">
                <div class="card p-3 rounded-xl text-center">
                    <div class="text-xs text-zinc-500 mb-1">–ë–∞–ª–∞–Ω—Å</div>
                    <div class="text-lg font-bold text-white">$124.50</div>
                </div>
                <div class="card p-3 rounded-xl text-center">
                    <div class="text-xs text-zinc-500 mb-1">–ü–æ–∫—É–ø–æ–∫</div>
                    <div class="text-lg font-bold text-white">12</div>
                </div>
            </div>

            <div class="space-y-2">
                <button onclick="tg.showAlert('–°–∏—Å—Ç–µ–º–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ')" class="w-full py-3 bg-zinc-100 text-black font-semibold rounded-lg">–ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å</button>
                <button class="w-full py-3 card text-zinc-300 font-medium rounded-lg border border-zinc-700">–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</button>
            </div>
        </div>

        <div id="admin" class="section space-y-4 hidden">
            <div class="p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-xs mb-4">
                ‚ö†Ô∏è –†–µ–∂–∏–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
            </div>
            
            <div class="grid grid-cols-2 gap-3">
                <button class="card p-4 rounded-xl flex flex-col items-center gap-2" onclick="adminAction('users')">
                    <span class="text-xl">üë•</span>
                    <span class="text-xs text-zinc-300">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</span>
                </button>
                <button class="card p-4 rounded-xl flex flex-col items-center gap-2" onclick="adminAction('stats')">
                    <span class="text-xl">üìä</span>
                    <span class="text-xs text-zinc-300">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
                </button>
                <button class="card p-4 rounded-xl flex flex-col items-center gap-2" onclick="adminAction('mailing')">
                    <span class="text-xl">üì®</span>
                    <span class="text-xs text-zinc-300">–†–∞—Å—Å—ã–ª–∫–∞</span>
                </button>
                <button class="card p-4 rounded-xl flex flex-col items-center gap-2" onclick="adminAction('products')">
                    <span class="text-xl">üì¶</span>
                    <span class="text-xs text-zinc-300">–¢–æ–≤–∞—Ä—ã</span>
                </button>
            </div>
            
            <div class="mt-4">
                <h3 class="text-sm font-medium text-white mb-2">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
                <div class="space-y-2 text-xs font-mono text-zinc-500">
                    <div class="flex justify-between border-b border-zinc-800 pb-1">
                        <span>User #123123 bought Premium</span>
                        <span class="text-zinc-600">10:42</span>
                    </div>
                    <div class="flex justify-between border-b border-zinc-800 pb-1">
                        <span>User #999111 topup $50</span>
                        <span class="text-zinc-600">09:15</span>
                    </div>
                </div>
            </div>
        </div>

        <div id="support" class="section space-y-4">
            <div class="card p-5 rounded-xl text-center space-y-3">
                <div class="text-3xl">üéß</div>
                <h3 class="text-white font-medium">–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?</h3>
                <p class="text-sm text-zinc-400">–ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –æ—Ç–≤–µ—á–∞–µ—Ç –≤ —Å—Ä–µ–¥–Ω–µ–º –∑–∞ 5 –º–∏–Ω—É—Ç.</p>
                <button onclick="tg.openTelegramLink('https://t.me/durov')" class="btn-primary w-full py-2 rounded-lg mt-2">–ù–∞–ø–∏—Å–∞—Ç—å –∞–≥–µ–Ω—Ç—É</button>
            </div>
        </div>

    </main>

    <nav class="fixed bottom-0 w-full bg-[#09090b]/90 backdrop-blur-lg border-t border-zinc-800 pb-4 pt-2 px-6 flex justify-between items-center z-50">
        <button onclick="switchTab('catalog')" class="nav-item active flex flex-col items-center gap-1 text-zinc-500 transition-colors w-12">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg>
            <span class="text-[10px]">–ö–∞—Ç–∞–ª–æ–≥</span>
        </button>
        
        <button onclick="switchTab('profile')" class="nav-item flex flex-col items-center gap-1 text-zinc-500 transition-colors w-12">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
            <span class="text-[10px]">–ü—Ä–æ—Ñ–∏–ª—å</span>
        </button>

        <button onclick="switchTab('support')" class="nav-item flex flex-col items-center gap-1 text-zinc-500 transition-colors w-12">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
            <span class="text-[10px]">Support</span>
        </button>

        <button id="admin-btn" onclick="switchTab('admin')" class="nav-item hidden flex-col items-center gap-1 text-red-500 transition-colors w-12">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"></path></svg>
            <span class="text-[10px]">Admin</span>
        </button>
    </nav>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.enableClosingConfirmation();

        // –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø
        const ADMIN_IDS = [12345678, YOUR_ID_HERE]; // –ó–ê–ú–ï–ù–ò–¢–¨ –ù–ê –°–í–û–ô ID (—Ü–∏—Ñ—Ä–∞–º–∏)
        
        // Init User
        const user = tg.initDataUnsafe.user || { first_name: "Guest", id: 0, username: "guest" };

        document.getElementById('username').innerText = user.first_name;
        document.getElementById('userid').innerText = `ID: ${user.id}`;
        if(user.username) {
            document.getElementById('avatar').innerHTML = user.first_name[0];
        }

        // Check Admin
        if (ADMIN_IDS.includes(user.id)) {
            document.getElementById('admin-btn').classList.remove('hidden');
            document.getElementById('admin-btn').classList.add('flex');
        }

        // Navigation Logic
        function switchTab(tabId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(el => {
                el.classList.remove('active');
                setTimeout(() => { if(!el.classList.contains('active')) el.style.display = 'none'; }, 300);
            });
            
            // Show target section
            const target = document.getElementById(tabId);
            target.style.display = 'block';
            // Small delay to allow display block to render before opacity transition
            setTimeout(() => target.classList.add('active'), 10);

            // Update nav icons
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            // Find the button that calls this function (rough approximation)
            event.currentTarget.classList.add('active');
            
            // Haptic Feedback
            tg.HapticFeedback.impactOccurred('light');
        }

        function buyItem(itemName, price) {
            tg.showConfirm(`–ö—É–ø–∏—Ç—å ${itemName} –∑–∞ $${price}?`, (confirmed) => {
                if (confirmed) {
                    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –±–æ—Ç—É
                    const data = JSON.stringify({ action: 'buy', item: itemName, price: price });
                    tg.sendData(data); 
                }
            });
        }

        function adminAction(actionType) {
            tg.HapticFeedback.impactOccurred('medium');
            tg.showAlert(`–ê–¥–º–∏–Ω –¥–µ–π—Å—Ç–≤–∏–µ: ${actionType} –∑–∞–ø—É—â–µ–Ω–æ.`);
            // –¢—É—Ç –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –±–æ—Ç—É, —á—Ç–æ–±—ã –æ–Ω –ø—Ä–∏—Å–ª–∞–ª —ç–∫—Å–µ–ª—å —Ñ–∞–π–ª –∏–ª–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        }
    </script>
</body>
</html>